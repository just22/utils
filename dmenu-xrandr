#!/bin/sh

# ----------------------------------------------------------------------
#  $Id$
#
#  Change display settings using dmenu
# ----------------------------------------------------------------------

# No output msgs, please
exec >/dev/null 2>&1

set -A MENU_ITEMS \
        "Off (LVDS-only)" \
        "Only (LVDS-off)" \
        "Left-of" \
        "Right-of" \
        "Above" \
        "Below"

case "$(printf "%s\n" "${MENU_ITEMS[@]}" |
        dmenu-cust -p VGA: "$@")" in
Off*)   wmrestart --output LVDS1 --auto --output VGA1 --off ;;
Only*)  wmrestart --output LVDS1 --off  --output VGA1 --auto ;;
Left*)  wmrestart --output LVDS1 --auto --primary --output VGA1 --auto --left-of  LVDS1 ;;
Right*) wmrestart --output LVDS1 --auto --primary --output VGA1 --auto --right-of LVDS1 ;;
Above)  wmrestart --output LVDS1 --auto --primary --output VGA1 --auto --above    LVDS1 ;;
Below)  wmrestart --output LVDS1 --auto --primary --output VGA1 --auto --below    LVDS1 ;;
*)      exit 1
esac

# Reset desktop (background, statusbar, ...)
reset-desktop
