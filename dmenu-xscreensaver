#!/bin/sh

# ----------------------------------------------------------------------
#  $Id$
#
#  Xscreensaver control
# ----------------------------------------------------------------------

# No output msgs, please
exec >/dev/null 2>&1

_array() {
        case "$SH_VERSION" in
        *KSH*)
                a="$1"; shift
                set -A "$a" "$@"
                ;;
        *)
                eval $1='("${@:2}")'
        esac
}

_array MENU_ITEMS \
        "Enable" \
        "Disable" \
        "Lock Screen" \
        "Restart" \
        "Settings"

case "$(printf "%s\n" "${MENU_ITEMS[@]}" |
        dmenu-cust -p XScreensaver: -i "$@")" in
Enable)
        xscreensaver
        ;;
Disable)
        xscreensaver-command -exit
        ;;
Lock*)
        xscreensaver-command -lock
        ;;
Restart)
        xscreensaver-command -restart
        ;;
Settings)
        xscreensaver-demo
        ;;
esac
